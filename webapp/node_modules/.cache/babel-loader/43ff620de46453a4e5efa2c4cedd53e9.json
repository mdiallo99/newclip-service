{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mdiallo\\\\Desktop\\\\newclip-service\\\\webapp\\\\src\\\\components\\\\user\\\\AddUser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { APP_API } from \"../helpers/AppRequests\";\nimport { userToken } from \"../../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddUser = () => {\n  _s();\n\n  /**\r\n   * Initial state, where all fields are empty\r\n   * @type {{companyCode: string, firstName: string, lastName: string, password: string, companies: *[], roles: string, email: string}}\r\n   */\n  const initState = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    roles: '',\n    companyCode: '',\n    companies: []\n  };\n  const [attributes, setAttributes] = useState(initState);\n  useEffect(async () => {\n    const response = await APP_API.getCompanyList(userToken);\n    attributes.companies = await response.data;\n    console.log(\"Companies: \" + response.data);\n  });\n  /**\r\n   * this function cleans form content\r\n   */\n\n  const handleReset = () => {\n    setAttributes(initState);\n  };\n  /**\r\n   * signs each field content to its attribute\r\n   * @param event content entry\r\n   */\n\n\n  const changeHandler = event => {\n    setAttributes({ ...attributes,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    console.log(\"Code: \" + attributes.companyCode);\n    const requestCompany = APP_API.getCompanyByCode(attributes.companyCode, userToken);\n    requestCompany.then(res => {\n      /**\r\n       * represents a json object for Company creation in Backend\r\n       * @type {{zipCode: (string|string|*), code, clientType: (string|string|*), city: (string|string|string|*), countryCode: (string|string|*), recipient: (string|string|string|*), label, countryName: (string|string|*), socialReason: (string|string|*)}}\r\n       */\n      const jsonCompany = {\n        \"code\": res.data.code,\n        \"socialReason\": res.data.socialReason,\n        \"clientType\": res.data.clientType,\n        \"label\": res.data.label,\n        \"countryCode\": res.data.countryCode,\n        \"countryName\": res.data.countryName,\n        \"zipCode\": res.data.zipCode,\n        \"city\": res.data.city,\n        \"recipient\": res.data.recipient\n      };\n      /**\r\n       * represents a json object for User creation in Backend\r\n       * @type {{firstName: string, lastName: string, password: string, roles: string, company: {zipCode: (string|*), code, clientType: (string|*), city: (string|*), countryCode: (string|*), recipient: (string|*), label, countryName: (string|*), socialReason: (string|*)}, email: string}}\r\n       */\n\n      const jsonUser = {\n        \"firstName\": attributes.firstName,\n        \"lastName\": attributes.lastName,\n        \"email\": attributes.email,\n        \"password\": attributes.password,\n        \"roles\": attributes.roles,\n        \"company\": jsonCompany\n      };\n      console.log(\"jsonUser: \", jsonUser);\n      console.log(\"Company: \", jsonCompany);\n      /**\r\n       * the request for adding a new User\r\n       * @type {Promise<AxiosResponse<any>>}\r\n       */\n\n      const addUserRequest = APP_API.addUser(jsonUser, userToken);\n      addUserRequest.then(res => {\n        console.log(\"add user response :\" + res.data);\n        handleReset();\n      }).catch(error => {\n        console.log(\"add user error :\", error);\n      });\n      console.log(\"jsonCompany: \", jsonCompany);\n    }).catch(error => {\n      console.log(\"Error : \" + error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row gutters\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card h-100\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row gutters\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12 text-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: \"Add a new user\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"firstName\",\n                        children: \"First name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        id: \"firstName\",\n                        name: \"firstName\",\n                        value: attributes.firstName,\n                        placeholder: \"Ex: Dupont\",\n                        required: \"required\",\n                        onChange: e => changeHandler(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"lastName\",\n                        children: \"Last name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        id: \"lastName\",\n                        name: \"lastName\",\n                        value: attributes.lastName,\n                        placeholder: \"Ex: Hugo\",\n                        required: \"required\",\n                        onChange: e => changeHandler(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 129,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row gutters\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"email\",\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 143,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"email\",\n                        className: \"form-control\",\n                        id: \"email\",\n                        name: \"email\",\n                        value: attributes.email,\n                        placeholder: \"Ex: hugo@exmaple.com\",\n                        required: \"required\",\n                        onChange: e => changeHandler(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"password\",\n                        children: \"Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"password\",\n                        name: \"password\",\n                        value: attributes.password,\n                        placeholder: \"Ex: myPassword\",\n                        required: \"required\",\n                        onChange: e => changeHandler(e)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 158,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"roles\",\n                          children: \"Role \"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 172,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"browser-default custom-select form-control\",\n                          name: \"roles\",\n                          value: attributes.roles,\n                          onChange: e => changeHandler(e),\n                          required: \"required\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"--Please Select--\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 178,\n                            columnNumber: 60\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"USER\",\n                            children: \"USER\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 179,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ADMIN\",\n                            children: \"ADMIN\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 180,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 173,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"company\",\n                          children: \"Company\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 188,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          className: \"form-control\",\n                          name: \"companyCode\",\n                          value: attributes.companyCode,\n                          onChange: e => changeHandler(e),\n                          required: \"required\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 189,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row gutters\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"submit\",\n                          id: \"submit\",\n                          name: \"submit\",\n                          className: \"btn btn-primary\",\n                          children: \"Submit\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"button\",\n                          id: \"clear\",\n                          name: \"clear\",\n                          onClick: () => handleReset(),\n                          className: \"btn btn-warning\",\n                          children: \"Reset\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 205,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_s(AddUser, \"1NlKEc8iFtTaMxMIxaVSk48M6xA=\");\n\n_c = AddUser;\nexport default AddUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"sources":["C:/Users/mdiallo/Desktop/newclip-service/webapp/src/components/user/AddUser.js"],"names":["React","useEffect","useState","APP_API","userToken","AddUser","initState","firstName","lastName","email","password","roles","companyCode","companies","attributes","setAttributes","response","getCompanyList","data","console","log","handleReset","changeHandler","event","target","name","value","handleSubmit","preventDefault","requestCompany","getCompanyByCode","then","res","jsonCompany","code","socialReason","clientType","label","countryCode","countryName","zipCode","city","recipient","jsonUser","addUserRequest","addUser","catch","error","e"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {APP_API} from \"../helpers/AppRequests\";\r\nimport {userToken} from \"../../App\";\r\n\r\n\r\nconst AddUser = () =>  {\r\n\r\n    /**\r\n     * Initial state, where all fields are empty\r\n     * @type {{companyCode: string, firstName: string, lastName: string, password: string, companies: *[], roles: string, email: string}}\r\n     */\r\n    const initState = {\r\n        firstName: '',\r\n        lastName: '',\r\n        email:'',\r\n        password: '',\r\n        roles: '',\r\n        companyCode: '',\r\n        companies: []\r\n    }\r\n   const [attributes, setAttributes] = useState(initState)\r\n\r\n    useEffect(async ()=> {\r\n        const  response = await APP_API.getCompanyList(userToken);\r\n        attributes.companies = await response.data;\r\n        console.log(\"Companies: \"+response.data)\r\n    })\r\n\r\n    /**\r\n     * this function cleans form content\r\n     */\r\n    const handleReset = () => {\r\n        setAttributes(initState);\r\n    }\r\n\r\n    /**\r\n     * signs each field content to its attribute\r\n     * @param event content entry\r\n     */\r\n    const changeHandler = (event) => {\r\n        setAttributes({...attributes, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        console.log(\"Code: \"+attributes.companyCode)\r\n        const requestCompany = APP_API.getCompanyByCode(attributes.companyCode, userToken);\r\n        requestCompany.then( res => {\r\n            /**\r\n             * represents a json object for Company creation in Backend\r\n             * @type {{zipCode: (string|string|*), code, clientType: (string|string|*), city: (string|string|string|*), countryCode: (string|string|*), recipient: (string|string|string|*), label, countryName: (string|string|*), socialReason: (string|string|*)}}\r\n             */\r\n                const jsonCompany = {\r\n                    \"code\": res.data.code,\r\n                    \"socialReason\": res.data.socialReason,\r\n                    \"clientType\": res.data.clientType,\r\n                    \"label\": res.data.label,\r\n                    \"countryCode\": res.data.countryCode,\r\n                    \"countryName\": res.data.countryName,\r\n                    \"zipCode\": res.data.zipCode,\r\n                    \"city\": res.data.city,\r\n                    \"recipient\": res.data.recipient\r\n                }\r\n\r\n            /**\r\n             * represents a json object for User creation in Backend\r\n             * @type {{firstName: string, lastName: string, password: string, roles: string, company: {zipCode: (string|*), code, clientType: (string|*), city: (string|*), countryCode: (string|*), recipient: (string|*), label, countryName: (string|*), socialReason: (string|*)}, email: string}}\r\n             */\r\n                const jsonUser = {\r\n                    \"firstName\": attributes.firstName,\r\n                    \"lastName\": attributes.lastName,\r\n                    \"email\": attributes.email,\r\n                    \"password\": attributes.password,\r\n                    \"roles\": attributes.roles,\r\n                    \"company\": jsonCompany\r\n                }\r\n                console.log(\"jsonUser: \", jsonUser)\r\n                console.log(\"Company: \", jsonCompany)\r\n            /**\r\n             * the request for adding a new User\r\n             * @type {Promise<AxiosResponse<any>>}\r\n             */\r\n                const addUserRequest = APP_API.addUser(jsonUser, userToken);\r\n                addUserRequest.then(res => {\r\n                    console.log(\"add user response :\"+res.data)\r\n                    handleReset()\r\n                }).catch(error => {\r\n                    console.log(\"add user error :\", error)\r\n                })\r\n\r\n                console.log(\"jsonCompany: \", jsonCompany)\r\n            }\r\n        ).catch(error => {\r\n            console.log(\"Error : \"+error)\r\n        });\r\n\r\n    }\r\n\r\n    return (\r\n\r\n            <>\r\n                <form onSubmit={(e) => handleSubmit(e)}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row gutters\">\r\n                            <div className=\"col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12\">\r\n                                <div className=\"card h-100\">\r\n                                    <div className=\"card-body\">\r\n                                        <div className=\"row gutters\">\r\n                                            <div className=\"col-12 text-center\">\r\n                                                <h3>Add a new user</h3>\r\n                                            </div>\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label htmlFor=\"firstName\">First name</label>\r\n                                                    <input type=\"text\"\r\n                                                           className=\"form-control\"\r\n                                                           id=\"firstName\"\r\n                                                           name=\"firstName\"\r\n                                                           value={attributes.firstName}\r\n                                                           placeholder=\"Ex: Dupont\"\r\n                                                           required={\"required\"}\r\n                                                           onChange={(e) => changeHandler(e) }/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label htmlFor=\"lastName\">Last name</label>\r\n                                                    <input type=\"text\"\r\n                                                           className=\"form-control\"\r\n                                                           id=\"lastName\"\r\n                                                           name=\"lastName\"\r\n                                                           value={attributes.lastName}\r\n                                                           placeholder=\"Ex: Hugo\"\r\n                                                           required={\"required\"}\r\n                                                           onChange={(e) => changeHandler(e) } />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"row gutters\">\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label htmlFor=\"email\">Email</label>\r\n                                                    <input type=\"email\"\r\n                                                           className=\"form-control\"\r\n                                                           id=\"email\"\r\n                                                           name=\"email\"\r\n                                                           value={attributes.email}\r\n                                                           placeholder=\"Ex: hugo@exmaple.com\"\r\n                                                           required={\"required\"}\r\n                                                           onChange={(e) => changeHandler(e) }\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <label htmlFor=\"password\">Password</label>\r\n                                                    <input type=\"password\"\r\n                                                           className=\"form-control\"\r\n                                                           id=\"password\"\r\n                                                           name=\"password\"\r\n                                                           value={attributes.password}\r\n                                                           placeholder=\"Ex: myPassword\"\r\n                                                           required={\"required\"}\r\n                                                           onChange={(e) => changeHandler(e) }\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <div>\r\n                                                        <label htmlFor=\"roles\">Role </label>\r\n                                                        <select className=\"browser-default custom-select form-control\"\r\n                                                                name=\"roles\"\r\n                                                                value={attributes.roles}\r\n                                                                onChange={(e) => changeHandler(e)}\r\n                                                                required={\"required\"}>\r\n                                                           <option>--Please Select--</option>\r\n                                                            <option value=\"USER\">USER</option>\r\n                                                            <option value=\"ADMIN\">ADMIN</option>\r\n                                                        </select>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12\">\r\n                                                <div className=\"form-group\">\r\n                                                    <div>\r\n                                                        <label htmlFor=\"company\">Company</label>\r\n                                                        <input className=\"form-control\"\r\n                                                                name=\"companyCode\"\r\n                                                                value={attributes.companyCode}\r\n                                                                onChange={(e) => changeHandler(e)}\r\n                                                                required={\"required\"}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"row gutters\">\r\n                                                <div className=\"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12\">\r\n                                                    <div className=\"text-right\">\r\n                                                        <button type=\"submit\"\r\n                                                                id=\"submit\"\r\n                                                                name=\"submit\"\r\n                                                                className=\"btn btn-primary\">Submit\r\n                                                        </button>\r\n                                                        <button type=\"button\"\r\n                                                                id=\"clear\"\r\n                                                                name=\"clear\"\r\n                                                                onClick={() => handleReset()}\r\n                                                                className=\"btn btn-warning\">Reset\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </>\r\n        )\r\n}\r\n\r\nexport default AddUser"]},"metadata":{},"sourceType":"module"}